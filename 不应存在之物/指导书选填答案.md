## Lab2

1. 课程 > 内存管理 > MIPS (R3000) 访存流程概览 > 虚拟地址到物理地址映射

   ![截屏2022-04-01 13.21.58](https://raw.githubusercontent.com/hjc-owo/hjc-owo.github.io/img/202303191847263.png)

   ![截屏2022-04-01 13.22.11](https://raw.githubusercontent.com/hjc-owo/hjc-owo.github.io/img/202303191845177.png)

2. 课程 > 内存管理 > 物理内存管理 > 内存控制块

   Thinking 2.3

   请阅读 `include/queue.h` 以及 `include/pmap.h`, 将 `Page_list` 的结构梳理清楚，选择正确的展开结构。

   ```c
   A:
   struct Page_list{
       struct {
           struct {
               struct Page *le_next;
               struct Page **le_prev;
           }* pp_link;
           u_short pp_ref;
       }* lh_first;
   }
   ```
   
   ```c
   B:
   struct Page_list{
       struct {
           struct {
               struct Page *le_next;
               struct Page **le_prev;
           } pp_link;
           u_short pp_ref;
       } lh_first;
   }
   ```
   
   ```c
   C:
   struct Page_list{
       struct {
           struct {
               struct Page *le_next;
               struct Page **le_prev;
           } pp_link;
           u_short pp_ref;
       }* lh_first;
   }
   ```
   
   ![截屏2022-04-01 13.35.52](https://raw.githubusercontent.com/hjc-owo/hjc-owo.github.io/img/202303191845278.png)
   
3. 课程 > 内存管理 > 虚拟内存管理 > 两级页表结构

   ![截屏2022-04-01 13.43.01](https://raw.githubusercontent.com/hjc-owo/hjc-owo.github.io/img/202303191846356.png)

   ![截屏2022-04-01 13.43.22](https://raw.githubusercontent.com/hjc-owo/hjc-owo.github.io/img/202303191846367.png)

4. 课程 > 内存管理 > 虚拟内存管理 > 系统启动相关函数

   ![截屏2022-04-01 13.44.35](https://raw.githubusercontent.com/hjc-owo/hjc-owo.github.io/img/202303191846075.png)

5. 课程 > 内存管理 > 虚拟内存管理 > 进程运行相关函数

   ![截屏2022-04-01 13.45.38](https://raw.githubusercontent.com/hjc-owo/hjc-owo.github.io/img/202303191846602.png)

6. 课程 > 内存管理 > 访存与 TLB 重填 > 用户进程访存流程

   ![截屏2022-04-01 13.49.47](https://raw.githubusercontent.com/hjc-owo/hjc-owo.github.io/img/202303191846385.png)

7. 课程 > 内存管理 > 访存与 TLB 重填 > TLB重填流程

   ![截屏2022-04-01 13.50.51](https://raw.githubusercontent.com/hjc-owo/hjc-owo.github.io/img/202303191846112.png)

8. 课程 > 内存管理 > 多级页表与页目录自映射 > 多级页表与页目录自映射

   <img src="https://raw.githubusercontent.com/hjc-owo/hjc-owo.github.io/img/202303191846112.png"/>